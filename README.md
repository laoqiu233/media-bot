# Media Bot - –£–º–Ω—ã–π –ú–µ–¥–∏–∞—Ü–µ–Ω—Ç—Ä –¥–ª—è Raspberry Pi

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Media Bot ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –º–µ–¥–∏–∞—Ü–µ–Ω—Ç—Ä –Ω–∞ –±–∞–∑–µ Raspberry Pi —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞. –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞, –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º–µ–¥–∏–∞–∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —É—Å–∏–ª–∏—è–º–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∏–ª—å–º. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–∫–∞—Ç—å —Ç–æ—Ä—Ä–µ–Ω—Ç—ã –≤—Ä—É—á–Ω—É—é, —Å–∫–∞—á–∏–≤–∞—Ç—å –∏—Ö –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä, –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –Ω–∞ –º–µ–¥–∏–∞—Ü–µ–Ω—Ç—Ä –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–ª–µ–µ—Ä ‚Äî –≤—ã –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –≤ Telegram. –ë–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å–º –≤ IMDb, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞, —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ç–æ—Ä—Ä–µ–Ω—Ç, –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ù—É–ª–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ WiFi
- **–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –í–µ—Å—å –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ Telegram ‚Äî –Ω–∏–∫–∞–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö –º–µ–Ω—é
- **HDMI-CEC**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–º (–≤–∫–ª—é—á–µ–Ω–∏–µ, –≥—Ä–æ–º–∫–æ—Å—Ç—å, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤—Ö–æ–¥–æ–≤)
- **–ë–æ–≥–∞—Ç—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–µ—Ä–æ–≤, –æ–ø–∏—Å–∞–Ω–∏–π, —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏–∑ IMDb
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ YTS –∏ RuTracker –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –æ—Ö–≤–∞—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å**: –ó–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã

---

## üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

- üé• [–í–∏–¥–µ–æ-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è](https://drive.google.com/file/d/1NsLc3wNssDQ8a2bHFHzwa1HjLB0XjU2K/view)
- üìä [–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](https://docs.google.com/presentation/d/1FcL6w_G10AxAaGvFrsT85C9C7nTCh8U8HW4YsoOnIxM/edit?slide=id.g3a305d8bcf8_0_0#slide=id.g3a305d8bcf8_0_0*)

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîç –ü–æ–∏—Å–∫ –∏ –∑–∞–≥—Ä—É–∑–∫–∞
- –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤ —á–µ—Ä–µ–∑ IMDb API —Å –ø–æ–ª–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤ –Ω–∞ YTS –∏ RuTracker
- –í—ã–±–æ—Ä –∫–∞—á–µ—Å—Ç–≤–∞ –≤–∏–¥–µ–æ (720p, 1080p, 4K)
- –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ–∑–æ–Ω–æ–≤ –∏ —ç–ø–∏–∑–æ–¥–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∂–∞–Ω—Ä—É, –æ–ø–∏—Å–∞–Ω–∏—é
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å—Ç–µ—Ä–æ–≤, —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ IMDb
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–∂–∏—Å—Å—ë—Ä–∞—Ö –∏ –∞–∫—Ç—ë—Ä–∞—Ö

### üé¨ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- –ú–æ—â–Ω—ã–π –ø–ª–µ–µ—Ä MPV —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º (–ø–∞—É–∑–∞, –ø–µ—Ä–µ–º–æ—Ç–∫–∞, –≥—Ä–æ–º–∫–æ—Å—Ç—å)
- –í—ã–±–æ—Ä –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–µ–∫ –∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –í—ã–±–æ—Ä HDMI –ø–æ—Ä—Ç–∞ –¥–ª—è –º–Ω–æ–≥–æ–º–æ–Ω–∏—Ç–æ—Ä–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫

### üì∫ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–º
- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ TV —á–µ—Ä–µ–∑ HDMI-CEC
- –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤—Ö–æ–¥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏

### ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≥—Ä—É–∑–æ–∫ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- **Python 3.11+**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Python
- **python-telegram-bot 21.x**: –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram –±–æ—Ç–æ–≤
- **Pydantic 2.x**: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **aiohttp**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã
- **libtorrent**: –ü—Ä–æ—Ç–æ–∫–æ–ª BitTorrent
- **py-rutracker-client**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RuTracker

### –ú–µ–¥–∏–∞ –∏ —Å–∏—Å—Ç–µ–º–∞
- **MPV**: –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–µ–¥–∏–∞–ø–ª–µ–µ—Ä
- **python-mpv**: Python-–±–∏–Ω–¥–∏–Ω–≥–∏ –¥–ª—è MPV
- **HDMI-CEC (cec-client)**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–º
- **NetworkManager (nmcli)**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

### API –∏ –¥–∞–Ω–Ω—ã–µ
- **IMDb API**: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤
- **YTS API**: –¢–æ—Ä—Ä–µ–Ω—Ç—ã —Ñ–∏–ª—å–º–æ–≤
- **RuTracker**: –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–µ–∫–µ—Ä

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**: asyncio, async/await
- **–≠–∫—Ä–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ UI**: –ú–æ–¥—É–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: JSON-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±–µ–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Å—Å–∏–π**: –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Raspberry Pi 4** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ **Raspberry Pi 3B+**
- **–ú–∏–Ω–∏–º—É–º 2GB RAM** (4GB –¥–ª—è 4K –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
- **SD-–∫–∞—Ä—Ç–∞ 32GB+** –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **HDMI-CEC —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Ç–µ–ª–µ–≤–∏–∑–æ—Ä**
- **WiFi –∏–ª–∏ Ethernet** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Raspberry Pi OS** (Raspbian) –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è Debian-based —Å–∏—Å—Ç–µ–º–∞
- **Python 3.11** –∏–ª–∏ –Ω–æ–≤–µ–µ
- **systemd** (–¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞)
- **NetworkManager** (–¥–ª—è WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã

–û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# Python 3.11 –∏ –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
sudo apt install -y python3.11 python3-pip python3-venv git

# MPV –º–µ–¥–∏–∞–ø–ª–µ–µ—Ä –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
sudo apt install -y libmpv-dev mpv

# HDMI-CEC —É—Ç–∏–ª–∏—Ç—ã
sudo apt install -y cec-utils

# NetworkManager –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è WiFi
sudo apt install -y network-manager

# –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–ª—è libtorrent (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo apt install -y build-essential python3-dev
```

### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ HDMI-CEC

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏:

```bash
sudo nano /boot/config.txt
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:

```
dtoverlay=vc4-kms-v3d,cec
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+X, Y, Enter) –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ:

```bash
sudo reboot
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É CEC:

```bash
echo 'scan' | cec-client -s -d 1
```

### –®–∞–≥ 3: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
cd ~
git clone <URL_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø> media-bot
cd media-bot
```

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Poetry (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Poetry (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
curl -sSL https://install.python-poetry.org | python3 -

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
poetry install
```

### –®–∞–≥ 5: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ QR-–∫–æ–¥

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Poetry
poetry run python -m app

# –ò–ª–∏ —Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º venv
python -m app
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**

1. –ù–∞ —ç–∫—Ä–∞–Ω–µ (–ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–º –ø–æ HDMI) –ø–æ—è–≤–∏—Ç—Å—è **QR-–∫–æ–¥**
2. QR-–∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç:
   - –î–∞–Ω–Ω—ã–µ WiFi —Å–µ—Ç–∏ (SSID: `media-bot-setup`, –ø–∞—Ä–æ–ª—å: `mediabot1234`)
   - URL –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://10.42.0.1:8765/`)
3. **–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥** —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–º:
   - iOS: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–∞–º–µ—Ä–∞ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WiFi
   - Android: WiFi QR Scanner –∏–ª–∏ Google Lens
4. –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ WiFi –±–æ—Ç–∞, –æ—Ç–∫—Ä–æ–µ—Ç—Å—è **–≤–µ–±-—Ñ–æ—Ä–º–∞**
5. –í —Ñ–æ—Ä–º–µ –≤–≤–µ–¥–∏—Ç–µ:
   - **WiFi —Å–µ—Ç—å** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–≤–∞—à–∞ –¥–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å)
   - **–ü–∞—Ä–æ–ª—å WiFi**
   - **Telegram Bot Token** (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))
6. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"
7. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –≤–∞—à–µ–π WiFi –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
8. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

### –®–∞–≥ 6: –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram Bot Token

–ï—Å–ª–∏ —É –≤–∞—Å –µ—â–µ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "My Media Bot")
   - –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "my_media_center_bot")
4. BotFather –≤—ã–¥–∞—Å—Ç –≤–∞–º —Ç–æ–∫–µ–Ω –≤–∏–¥–∞: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–æ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º. –î–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞:

```bash
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:

```bash
AUTHORIZED_USERS=–≤–∞—à_username,–¥—Ä—É–≥–æ–π_username
```

**–í–∞–∂–Ω–æ**: –£–∫–∞–∑—ã–≤–∞–π—Ç–µ username –±–µ–∑ —Å–∏–º–≤–æ–ª–∞ `@`.

### –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RuTracker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RuTracker –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ YTS:

1. –í Telegram –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí RuTracker Auth
3. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å RuTracker
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–∫–∞–∂–∏—Ç–µ –ø—Ä–æ–∫—Å–∏ (–¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ `.env`:

```bash
TRACKER_USERNAME=–≤–∞—à_–ª–æ–≥–∏–Ω_rutracker
TRACKER_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
TRACKER_PROXY=http://proxy:port  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

---

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**–í—Ä—É—á–Ω—É—é** (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):

```bash
# –° Poetry
poetry run python -m app

# –° venv
source .venv/bin/activate
python -m app
```

**–ß–µ—Ä–µ–∑ systemd** (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫):

–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å:

```bash
sudo nano /etc/systemd/system/media-bot.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

```ini
[Unit]
Description=Media Bot - Smart Raspberry Pi Media Center
After=network.target

[Service]
Type=simple
User=pi
WorkingDirectory=/home/pi/media-bot
ExecStart=/home/pi/media-bot/.venv/bin/python -m app
Restart=on-failure
RestartSec=10
Environment="PATH=/home/pi/media-bot/.venv/bin:/usr/local/bin:/usr/bin:/bin"

[Install]
WantedBy=multi-user.target
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å:

```bash
sudo systemctl daemon-reload
sudo systemctl enable media-bot
sudo systemctl start media-bot
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:

```bash
sudo systemctl status media-bot
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
sudo journalctl -u media-bot -f
```

### –†–∞–±–æ—Ç–∞ —Å –±–æ—Ç–æ–º

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Telegram** –∏ –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. –ü–æ—è–≤–∏—Ç—Å—è **–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é** —Å –∫–Ω–æ–ø–∫–∞–º–∏:

#### üîç –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤
- –ù–∞–∂–º–∏—Ç–µ "üîç –ü–æ–∏—Å–∫"
- –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Interstellar")
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ IMDb —Å –ø–æ—Å—Ç–µ—Ä–∞–º–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏
- –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å–º ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤ (YTS/RuTracker)
- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ (720p, 1080p, 4K)
- –ù–∞—á–Ω–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞

#### üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∫–∞—á–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∂–∞–Ω—Ä—É
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–µ–∑–æ–Ω–∞–º –∏ —ç–ø–∏–∑–æ–¥–∞–º —Å–µ—Ä–∏–∞–ª–æ–≤
- –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ)
- –ó–∞–ø—É—Å–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### üì• –ó–∞–≥—Ä—É–∑–∫–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü–∞—É–∑–∞ / –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ–∫
- –û—Ç–º–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

#### üé¨ –ü–ª–µ–µ—Ä
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º (–ø–∞—É–∑–∞, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, —Å—Ç–æ–ø)
- –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥ (10 —Å–µ–∫, 1 –º–∏–Ω, 5 –º–∏–Ω)
- –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
- –í—ã–±–æ—Ä –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫–∏
- –í—ã–±–æ—Ä —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- –í—ã–±–æ—Ä HDMI –≤—ã—Ö–æ–¥–∞

#### üì∫ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TV
- –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ç–µ–ª–µ–≤–∏–∑–æ—Ä
- –£–≤–µ–ª–∏—á–∏—Ç—å/—É–º–µ–Ω—å—à–∏—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤—Ö–æ–¥ (HDMI1, HDMI2, –∏ —Ç.–¥.)

#### ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ CEC
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ–∫
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ / –≤—ã–∫–ª—é—á–µ–Ω–∏–µ

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫—Ä–∞—Ç–∫–æ)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Telegram Bot Interface         ‚îÇ
‚îÇ   (python-telegram-bot)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Session Manager    ‚îÇ
    ‚îÇ  (per-user state)   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Screen Registry   ‚îÇ
    ‚îÇ   (19 UI screens)   ‚îÇ
    ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Library   ‚îÇ  ‚îÇ   Torrent    ‚îÇ
‚îÇ   Manager   ‚îÇ  ‚îÇ   System     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ             ‚îÇ
    ‚îå‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   MPV Player       ‚îÇ
    ‚îÇ   HDMI-CEC TV      ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **–≠–∫—Ä–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ö–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å —Å –º–µ—Ç–æ–¥–∞–º–∏ render(), handle_callback(), handle_message()
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –í—Å–µ I/O –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ JSON, –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –≠–∫—Ä–∞–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 0.5 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **Singleton –ø–∞—Ç—Ç–µ—Ä–Ω**: –ü–ª–µ–µ—Ä –∏ –∑–∞–≥—Ä—É–∑—á–∏–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç singleton –¥–ª—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
media-bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __main__.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ init_flow.py          # WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å QR-–∫–æ–¥–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Pydantic)
‚îÇ   ‚îú‚îÄ‚îÄ bot/                  # Telegram –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ screens/          # 19 UI —ç–∫—Ä–∞–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ session_manager.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ library/              # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–µ–¥–∏–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ manager.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ imdb_client.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îÇ   ‚îú‚îÄ‚îÄ torrent/              # –¢–æ—Ä—Ä–µ–Ω—Ç —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ searcher.py       # YTS + RuTracker
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ downloader.py     # libtorrent
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ player/               # MPV –ø–ª–µ–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ tv/                   # HDMI-CEC
‚îÇ   ‚îî‚îÄ‚îÄ templates/            # HTML –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ memory_bank/              # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ loading.gif               # –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
‚îú‚îÄ‚îÄ pyproject.toml            # Poetry –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã**: –ö–æ–º–∞–Ω–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –±–æ—Ç –º–æ–ª—á–∏—Ç

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω: `cat .env | grep TELEGRAM_BOT_TOKEN`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç: `ping telegram.org`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u media-bot -f`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç: `sudo systemctl restart media-bot`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é: –≤–∞—à username –≤ `AUTHORIZED_USERS`?

### QR-–∫–æ–¥ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã**: –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ HDMI
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ mpv —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `which mpv`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ `/dev/fb0`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—à–∏–±–æ–∫
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–∏—Å–ø–ª–µ–π

### HDMI-CEC –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã**: –ö–æ–º–∞–Ω–¥—ã TV –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CEC —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: `ls -l /dev/cec*`
2. –¢–µ—Å—Ç CEC: `echo 'scan' | cec-client -s -d 1`
3. –í–∫–ª—é—á–∏—Ç–µ CEC –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞:
   - Samsung: Anynet+ (HDMI-CEC)
   - LG: SimpLink
   - Sony: Bravia Sync
   - Panasonic: HDAVI Control
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/boot/config.txt` ‚Äî –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `dtoverlay=vc4-kms-v3d,cec`?
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π HDMI –ø–æ—Ä—Ç –Ω–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–µ
6. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º

**–°–∏–º–ø—Ç–æ–º—ã**: –ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω, –Ω–µ—Ç –∑–≤—É–∫–∞, –∑–∞–≤–∏—Å–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏—è**:
1. –¢–µ—Å—Ç MPV –Ω–∞–ø—Ä—è–º—É—é: `mpv /–ø—É—Ç—å/–∫/–≤–∏–¥–µ–æ.mp4`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥–µ–∫ —Ñ–∞–π–ª–∞: `ffprobe –≤–∏–¥–µ–æ.mp4`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–µ–∑ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è: `MPV_HWDEC=no` –≤ .env
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞—É–¥–∏–æ –≤—ã—Ö–æ–¥: `aplay -l`
5. –î–ª—è 4K –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 4GB RAM
6. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ H.264 –∫–æ–¥–µ–∫ –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –ó–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≤–∏—Å–ª–∏ –Ω–∞ 0%

**–°–∏–º–ø—Ç–æ–º—ã**: –¢–æ—Ä—Ä–µ–Ω—Ç –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å—Å—è

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–¥–µ—Ä–æ–≤ (–≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—Ä—Ä–µ–Ω—Ç —Å –±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ: `df -h`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ –∑–∞–≥—Ä—É–∑–æ–∫
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ç–æ—Ä—Ä–µ–Ω—Ç –∏–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—É—Å—Ç–∞—è

**–°–∏–º–ø—Ç–æ–º—ã**: –°–∫–∞—á–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å–º—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏—è**:
1. –ù–∞–∂–º–∏—Ç–µ "üîÑ –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É" –≤ —ç–∫—Ä–∞–Ω–µ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: `ls -la ~/media_library/movies/`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å —Ñ–∞–π–ª—ã metadata.json –≤ –ø–∞–ø–∫–∞—Ö
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å

### WiFi –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

**–°–∏–º–ø—Ç–æ–º—ã**: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –≤–µ–±-—Ñ–æ—Ä–º–µ

**–†–µ—à–µ–Ω–∏—è**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è WiFi
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ç—å –≤ –∑–æ–Ω–µ –¥–æ—Å—Ç—É–ø–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ NetworkManager —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `nmcli --version`
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é: `sudo nmcli dev wifi connect "SSID" password "–ø–∞—Ä–æ–ª—å"`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ç–µ–≤—ã–º–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏

---

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π–ª `.env` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

```bash
# Telegram (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
AUTHORIZED_USERS=username1,username2

# –ü—É—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
MEDIA_LIBRARY_PATH=/home/pi/media_library
DOWNLOAD_PATH=/home/pi/downloads

# MPV –ø–ª–µ–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
MPV_VO=gpu
MPV_AO=alsa
MPV_HWDEC=no

# HDMI-CEC (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
CEC_ENABLED=true
CEC_DEVICE=/dev/cec0

# RuTracker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TRACKER_USERNAME=your_username
TRACKER_PASSWORD=your_password
TRACKER_PROXY=http://proxy:8080

# WiFi (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è)
WIFI_SSID=your_network
WIFI_PASSWORD=your_password

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
LOG_LEVEL=INFO
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

- **–ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [`memory_bank/MEMORY_BANK.md`](memory_bank/MEMORY_BANK.md)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è IMDb**: [`memory_bank/IMDB_INTEGRATION_SUMMARY.md`](memory_bank/IMDB_INTEGRATION_SUMMARY.md)
- **–°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–æ–∫**: [`memory_bank/DOWNLOAD_PERSISTENCE_IMPLEMENTATION.md`](memory_bank/DOWNLOAD_PERSISTENCE_IMPLEMENTATION.md)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**: [`memory_bank/TORRENT_DOWNLOAD_OPTIMIZATION.md`](memory_bank/TORRENT_DOWNLOAD_OPTIMIZATION.md)

---

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Python, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö API. 

**–í–∞–∂–Ω–æ**: 
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ä—Ä–µ–Ω—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –¥–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–ª–∏ –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞
- –°–æ–±–ª—é–¥–∞–π—Ç–µ –∑–∞–∫–æ–Ω—ã –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ê–≤—Ç–æ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –Ω–µ–∑–∞–∫–æ–Ω–Ω—ã—Ö —Ü–µ–ª—è—Ö
- RuTracker –∏ –¥—Ä—É–≥–∏–µ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–µ–∫–µ—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤ –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω–µ

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Raspberry Pi –∏ Telegram**

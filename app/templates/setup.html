<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Media Bot Setup</title>
    <style>
      :root {
        color-scheme: dark;
      }
      body {
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at top, #1e293b 0%, #0f172a 45%, #020617 100%);
        color: #e2e8f0;
      }
      .card {
        width: min(90vw, 560px);
        border: 1px solid rgba(148, 163, 184, 0.25);
        border-radius: 18px;
        padding: 2.4rem;
        box-shadow: 0 24px 55px rgba(2, 6, 23, 0.65);
        background: rgba(15, 23, 42, 0.92);
        backdrop-filter: blur(14px);
      }
      h1 {
        font-size: clamp(1.5rem, 1.8vw + 1rem, 2rem);
        margin: 0 0 0.75rem;
        font-weight: 700;
        letter-spacing: 0.35px;
      }
      .subtitle {
        color: #cbd5f5;
        margin-bottom: 1.5rem;
        font-size: 1.02rem;
        line-height: 1.55;
      }
      form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      label {
        font-weight: 600;
        letter-spacing: 0.25px;
        margin-bottom: 0.35rem;
      }
      input[type="text"],
      input[type="password"] {
        width: 100%;
        border-radius: 12px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: rgba(15, 23, 42, 0.65);
        padding: 0.85rem 0.95rem;
        font-size: 1rem;
        color: #f8fafc;
        transition: border 0.2s ease, box-shadow 0.2s ease;
      }
      input[type="text"]:focus,
      input[type="password"]:focus {
        outline: none;
        border-color: rgba(96, 165, 250, 0.9);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);
      }
      .hint {
        color: #94a3b8;
        font-size: 0.92rem;
        line-height: 1.4;
      }
      .error {
        background: rgba(239, 68, 68, 0.12);
        border: 1px solid rgba(248, 113, 113, 0.35);
        color: #fee2e2;
        padding: 0.9rem 1rem;
        border-radius: 12px;
        margin-bottom: 0.8rem;
        line-height: 1.4;
      }
      button {
        margin-top: 0.5rem;
        padding: 0.9rem 1rem;
        font-size: 1.05rem;
        background: linear-gradient(135deg, #16a34a, #22d3ee);
        color: #0f172a;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        letter-spacing: 0.3px;
        transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
      }
      button:hover {
        transform: translateY(-1px);
        box-shadow: 0 18px 45px rgba(45, 212, 191, 0.35);
        filter: brightness(1.05);
      }
      .foot {
        color: #94a3b8;
        font-size: 0.92rem;
        margin-top: 1.8rem;
        border-top: 1px solid rgba(148, 163, 184, 0.25);
        padding-top: 1.1rem;
        line-height: 1.5;
      }
      code {
        background: rgba(30, 41, 59, 0.9);
        padding: 6px 10px;
        border-radius: 8px;
        border: 1px solid rgba(148, 163, 184, 0.35);
        color: #f8fafc;
      }
      @media (max-width: 520px) {
        .card {
          padding: 2rem 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>Step 2 · Connect the Media Bot</h1>
      <p class="subtitle">
        Enter the Wi‑Fi credentials for your home network and the Telegram bot token from <a href="https://t.me/BotFather" target="_blank" rel="noreferrer">BotFather</a>.
        The device will switch from the setup hotspot to your home Wi‑Fi after a successful connection.
      </p>
      {{ERROR_BOX}}
      <form method="POST" action="/submit">
        <div>
          <label for="wifi_ssid">Home Wi‑Fi Name (SSID)</label>
          <input id="wifi_ssid" name="wifi_ssid" type="text" placeholder="HomeNetwork" value="{{WIFI_SSID}}" required>
        </div>
        <div>
          <label for="wifi_password">Home Wi‑Fi Password</label>
          <input id="wifi_password" name="wifi_password" type="password" placeholder="••••••••" value="{{WIFI_PASSWORD}}" required>
        </div>
        <div>
          <label for="token">Telegram Bot Token</label>
          <input id="token" name="token" type="text" placeholder="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11" value="{{TOKEN}}" required>
          <div class="hint">Tip: send <code>/token</code> to BotFather if you need to regenerate it.</div>
        </div>
        <button type="submit">Save &amp; Connect</button>
      </form>
      <div class="foot">
        • The Media Bot will reboot its Wi‑Fi connection after you submit.<br>
        • If the connection fails, the setup hotspot will return and you can try again.<br>
        • Credentials are stored securely in your <code>.env</code> file on the device.
      </div>
    </div>
  </body>
</html>


